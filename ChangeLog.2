CHANGES
================================================
変更点 2.0b2 --> 2.0b3 -> 2.0
================================================
-------------------------------------------------------------------------------
1998/04/30  複数行取得関数 sa_getlines() の作成
-------------------------------------------------------------------------------
char *sa_getlines(SUFARY *ary, long pos, int B, int A);

pos で指定された位置を含む行とそれの前後の行を取って来る。
B で前何行、A で後何行かを指定する。

これにより、sa_getline() は以下のように書き換えられた。

char *sa_getline(SUFARY *ary, long pos){return sa_getlines(ary, pos, 0, 0);}


-------------------------------------------------------------------------------
1998/05/02  高速化のためのコード修正
-------------------------------------------------------------------------------
とりあえず直してみたけど、あまり速くなってない。
今までコンパイラが最適化してくれてたのかな？

★cmp_sistr()
Old:
   for(i = 0; i < len; i++)
     if(txt[i] != str[i]) {
       ...
       return ((unsigned char)txt[i]-(unsigned char)str[i]);
New:
   for(i = 0; i < len; i++)
     if(txt++ != str++) {
       ...
       return ((unsigned char)*txt-(unsigned char)*str);

-------------------------------------------------------------------------------
1998/05/19  Common Prefix Search を perlモジュールで利用できるようにした
-------------------------------------------------------------------------------
SUFARYガイドにも解説を入れておきました。でもまあ使う人はいないでしょうね。


